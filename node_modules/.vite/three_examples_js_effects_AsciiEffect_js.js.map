{
  "version": 3,
  "sources": ["../three/examples/js/effects/AsciiEffect.js", "dep:three_examples_js_effects_AsciiEffect_js"],
  "sourcesContent": ["( function () {\n\n\t/**\n * Ascii generation is based on http://www.nihilogic.dk/labs/jsascii/\n * Maybe more about this later with a blog post at http://lab4games.net/zz85/blog\n *\n * 16 April 2012 - @blurspline\n */\n\tclass AsciiEffect {\n\n\t\tconstructor( renderer, charSet = ' .:-=+*#%@', options = {} ) {\n\n\t\t\t// ' .,:;=|iI+hHOE#`$';\n\t\t\t// darker bolder character set from https://github.com/saw/Canvas-ASCII-Art/\n\t\t\t// ' .\\'`^\",:;Il!i~+_-?][}{1)(|/tfjrxnuvczXYUJCLQ0OZmwqpdbkhao*#MW&8%B@$'.split('');\n\t\t\t// Some ASCII settings\n\t\t\tconst bResolution = ! options[ 'resolution' ] ? 0.15 : options[ 'resolution' ]; // Higher for more details\n\n\t\t\tconst iScale = ! options[ 'scale' ] ? 1 : options[ 'scale' ];\n\t\t\tconst bColor = ! options[ 'color' ] ? false : options[ 'color' ]; // nice but slows down rendering!\n\n\t\t\tconst bAlpha = ! options[ 'alpha' ] ? false : options[ 'alpha' ]; // Transparency\n\n\t\t\tconst bBlock = ! options[ 'block' ] ? false : options[ 'block' ]; // blocked characters. like good O dos\n\n\t\t\tconst bInvert = ! options[ 'invert' ] ? false : options[ 'invert' ]; // black is white, white is black\n\n\t\t\tconst strResolution = 'low';\n\t\t\tlet width, height;\n\t\t\tconst domElement = document.createElement( 'div' );\n\t\t\tdomElement.style.cursor = 'default';\n\t\t\tconst oAscii = document.createElement( 'table' );\n\t\t\tdomElement.appendChild( oAscii );\n\t\t\tlet iWidth, iHeight;\n\t\t\tlet oImg;\n\n\t\t\tthis.setSize = function ( w, h ) {\n\n\t\t\t\twidth = w;\n\t\t\t\theight = h;\n\t\t\t\trenderer.setSize( w, h );\n\t\t\t\tinitAsciiSize();\n\n\t\t\t};\n\n\t\t\tthis.render = function ( scene, camera ) {\n\n\t\t\t\trenderer.render( scene, camera );\n\t\t\t\tasciifyImage( renderer, oAscii );\n\n\t\t\t};\n\n\t\t\tthis.domElement = domElement; // Throw in ascii library from http://www.nihilogic.dk/labs/jsascii/jsascii.js\n\n\t\t\t/*\n    * jsAscii 0.1\n    * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/\n    * MIT License [http://www.nihilogic.dk/licenses/mit-license.txt]\n    */\n\n\t\t\tfunction initAsciiSize() {\n\n\t\t\t\tiWidth = Math.round( width * fResolution );\n\t\t\t\tiHeight = Math.round( height * fResolution );\n\t\t\t\toCanvas.width = iWidth;\n\t\t\t\toCanvas.height = iHeight; // oCanvas.style.display = \"none\";\n\t\t\t\t// oCanvas.style.width = iWidth;\n\t\t\t\t// oCanvas.style.height = iHeight;\n\n\t\t\t\toImg = renderer.domElement;\n\n\t\t\t\tif ( oImg.style.backgroundColor ) {\n\n\t\t\t\t\toAscii.rows[ 0 ].cells[ 0 ].style.backgroundColor = oImg.style.backgroundColor;\n\t\t\t\t\toAscii.rows[ 0 ].cells[ 0 ].style.color = oImg.style.color;\n\n\t\t\t\t}\n\n\t\t\t\toAscii.cellSpacing = 0;\n\t\t\t\toAscii.cellPadding = 0;\n\t\t\t\tconst oStyle = oAscii.style;\n\t\t\t\toStyle.display = 'inline';\n\t\t\t\toStyle.width = Math.round( iWidth / fResolution * iScale ) + 'px';\n\t\t\t\toStyle.height = Math.round( iHeight / fResolution * iScale ) + 'px';\n\t\t\t\toStyle.whiteSpace = 'pre';\n\t\t\t\toStyle.margin = '0px';\n\t\t\t\toStyle.padding = '0px';\n\t\t\t\toStyle.letterSpacing = fLetterSpacing + 'px';\n\t\t\t\toStyle.fontFamily = strFont;\n\t\t\t\toStyle.fontSize = fFontSize + 'px';\n\t\t\t\toStyle.lineHeight = fLineHeight + 'px';\n\t\t\t\toStyle.textAlign = 'left';\n\t\t\t\toStyle.textDecoration = 'none';\n\n\t\t\t}\n\n\t\t\tconst aDefaultCharList = ' .,:;i1tfLCG08@'.split( '' );\n\t\t\tconst aDefaultColorCharList = ' CGO08@'.split( '' );\n\t\t\tconst strFont = 'courier new, monospace';\n\t\t\tconst oCanvasImg = renderer.domElement;\n\t\t\tconst oCanvas = document.createElement( 'canvas' );\n\n\t\t\tif ( ! oCanvas.getContext ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst oCtx = oCanvas.getContext( '2d' );\n\n\t\t\tif ( ! oCtx.getImageData ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tlet aCharList = bColor ? aDefaultColorCharList : aDefaultCharList;\n\t\t\tif ( charSet ) aCharList = charSet;\n\t\t\tlet fResolution = 0.5;\n\n\t\t\tswitch ( strResolution ) {\n\n\t\t\t\tcase 'low':\n\t\t\t\t\tfResolution = 0.25;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'medium':\n\t\t\t\t\tfResolution = 0.5;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'high':\n\t\t\t\t\tfResolution = 1;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( bResolution ) fResolution = bResolution; // Setup dom\n\n\t\t\tconst fFontSize = 2 / fResolution * iScale;\n\t\t\tconst fLineHeight = 2 / fResolution * iScale; // adjust letter-spacing for all combinations of scale and resolution to get it to fit the image width.\n\n\t\t\tlet fLetterSpacing = 0;\n\n\t\t\tif ( strResolution == 'low' ) {\n\n\t\t\t\tswitch ( iScale ) {\n\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tfLetterSpacing = - 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tfLetterSpacing = - 2.1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tfLetterSpacing = - 3.1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tfLetterSpacing = - 4.15;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( strResolution == 'medium' ) {\n\n\t\t\t\tswitch ( iScale ) {\n\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tfLetterSpacing = 0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tfLetterSpacing = - 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tfLetterSpacing = - 1.04;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 4:\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tfLetterSpacing = - 2.1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( strResolution == 'high' ) {\n\n\t\t\t\tswitch ( iScale ) {\n\n\t\t\t\t\tcase 1:\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tfLetterSpacing = 0;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 3:\n\t\t\t\t\tcase 4:\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tfLetterSpacing = - 1;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t} // can't get a span or div to flow like an img element, but a table works?\n\t\t\t// convert img element to ascii\n\n\n\t\t\tfunction asciifyImage( canvasRenderer, oAscii ) {\n\n\t\t\t\toCtx.clearRect( 0, 0, iWidth, iHeight );\n\t\t\t\toCtx.drawImage( oCanvasImg, 0, 0, iWidth, iHeight );\n\t\t\t\tconst oImgData = oCtx.getImageData( 0, 0, iWidth, iHeight ).data; // Coloring loop starts now\n\n\t\t\t\tlet strChars = ''; // console.time('rendering');\n\n\t\t\t\tfor ( let y = 0; y < iHeight; y += 2 ) {\n\n\t\t\t\t\tfor ( let x = 0; x < iWidth; x ++ ) {\n\n\t\t\t\t\t\tconst iOffset = ( y * iWidth + x ) * 4;\n\t\t\t\t\t\tconst iRed = oImgData[ iOffset ];\n\t\t\t\t\t\tconst iGreen = oImgData[ iOffset + 1 ];\n\t\t\t\t\t\tconst iBlue = oImgData[ iOffset + 2 ];\n\t\t\t\t\t\tconst iAlpha = oImgData[ iOffset + 3 ];\n\t\t\t\t\t\tlet iCharIdx;\n\t\t\t\t\t\tlet fBrightness;\n\t\t\t\t\t\tfBrightness = ( 0.3 * iRed + 0.59 * iGreen + 0.11 * iBlue ) / 255; // fBrightness = (0.3*iRed + 0.5*iGreen + 0.3*iBlue) / 255;\n\n\t\t\t\t\t\tif ( iAlpha == 0 ) {\n\n\t\t\t\t\t\t\t// should calculate alpha instead, but quick hack :)\n\t\t\t\t\t\t\t//fBrightness *= (iAlpha / 255);\n\t\t\t\t\t\t\tfBrightness = 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tiCharIdx = Math.floor( ( 1 - fBrightness ) * ( aCharList.length - 1 ) );\n\n\t\t\t\t\t\tif ( bInvert ) {\n\n\t\t\t\t\t\t\tiCharIdx = aCharList.length - iCharIdx - 1;\n\n\t\t\t\t\t\t} // good for debugging\n\t\t\t\t\t\t//fBrightness = Math.floor(fBrightness * 10);\n\t\t\t\t\t\t//strThisChar = fBrightness;\n\n\n\t\t\t\t\t\tlet strThisChar = aCharList[ iCharIdx ];\n\t\t\t\t\t\tif ( strThisChar === undefined || strThisChar == ' ' ) strThisChar = '&nbsp;';\n\n\t\t\t\t\t\tif ( bColor ) {\n\n\t\t\t\t\t\t\tstrChars += '<span style=\\'' + 'color:rgb(' + iRed + ',' + iGreen + ',' + iBlue + ');' + ( bBlock ? 'background-color:rgb(' + iRed + ',' + iGreen + ',' + iBlue + ');' : '' ) + ( bAlpha ? 'opacity:' + iAlpha / 255 + ';' : '' ) + '\\'>' + strThisChar + '</span>';\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstrChars += strThisChar;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstrChars += '<br/>';\n\n\t\t\t\t}\n\n\t\t\t\toAscii.innerHTML = '<tr><td>' + strChars + '</td></tr>'; // console.timeEnd('rendering');\n\t\t\t\t// return oAscii;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tTHREE.AsciiEffect = AsciiEffect;\n\n} )();\n", "export default require(\"./node_modules/three/examples/js/effects/AsciiEffect.js\");"],
  "mappings": "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",
  "names": []
}
